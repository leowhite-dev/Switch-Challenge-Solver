<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="author" content="Leo White">
    <meta
      name="description"
      content="This project implements a web page to help users solve the 'Switch Challenge' provided by AON for P&G.">
    <link rel="stylesheet" href="style.css">

    <title>Switch Challenge Solver</title>
  </head>

  <body>
    <header>Switch Challenge Solver</header>
    <main>
      <div>
        <form action="">
          <fieldset>
            <legend>State Information</legend>
            <p>
              <label for="initial-state">Initial State:</label>
              <input type="text" id="initial-state" name="initial-state" required>
            </p>
            <p>
              <label for="final-state">Final State:</label>
              <input type="text" id="final-state" name="final-state" required>
            </p>
            <p>
              <button>Submit</button>
            </p>
          </fieldset>

        </form>
      </div>

    </main>
    <aside>侧边栏
      <div>
        说明区域1
      </div>
      <nav>
        <ul>
          <li>示例链接1</li>
          <li>示例链接2</li>
        </ul>
      </nav>
    </aside>
    <footer>脚注
      <div>
        Contact me
        balabalabala.
      </div>
    </footer>
    <!-- script generated by GPT4's module 'Website Generator' -->
    <script>
      // Function to validate the input
      function validateInput(inputElement) {
          const inputValue = inputElement.value.trim();
          const validChars = ['r', 'g', 'b', 'y'];
  
          // Check if the input is 4 characters long
          if (inputValue.length !== 4) {
              inputElement.setCustomValidity("Input must contain exactly 4 characters.");
              return;
          }
  
          // Check if all characters are in the allowed set ['r', 'g', 'b', 'y']
          if (!/^[rgby]+$/.test(inputValue)) {
              inputElement.setCustomValidity("Input must only contain the letters r, g, b, y.");
              return;
          }
  
          // Check if all characters are unique
          const uniqueChars = new Set(inputValue.split(''));
          if (uniqueChars.size !== 4) {
              inputElement.setCustomValidity("Each letter must be used only once.");
              return;
          }
  
          // If all conditions pass, the input is valid
          inputElement.setCustomValidity(""); // Reset error message
      }
  
      // Attach the validation to all current and future input elements
      window.onload = function() {
          const inputs = document.querySelectorAll('input');
          
          // Apply validation to existing inputs
          inputs.forEach(input => {
              input.addEventListener('input', function() {
                  validateInput(input);
              });
          });
  
          // Future inputs (added dynamically) will also need validation
          document.body.addEventListener('input', function(event) {
              if (event.target.tagName === 'INPUT') {
                  validateInput(event.target);
              }
          });
      }
  </script>
  
  </body>

</html>